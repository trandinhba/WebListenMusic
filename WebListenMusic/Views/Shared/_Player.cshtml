@* Music Player Partial View *@

<!-- Standard Audio Player Bar -->
<div class="player-bar" id="playerBar">
    <!-- Now Playing -->
    <div class="player-now-playing">
        <div class="player-cover-wrapper">
            <img src="/images/default-song.svg" alt="Cover" class="player-cover" id="playerCover" onerror="this.src='/images/default-song.svg';" />
        </div>
        <div class="player-song-info">
            <div class="player-song-title" id="playerTitle">Select a song to play</div>
            <div class="player-song-artist" id="playerArtist">---</div>
        </div>
        <div class="player-song-actions">
            <button class="btn-icon" id="btnLike" title="Favorite">
                <i class="bi bi-heart"></i>
            </button>
            <button class="btn-icon" id="btnAddToPlaylist" title="Add to playlist" data-bs-toggle="modal" data-bs-target="#addToPlaylistModal">
                <i class="bi bi-plus-circle"></i>
            </button>
        </div>
    </div>
    
    <!-- Player Controls -->
    <div class="player-controls">
        <div class="player-buttons">
            <button class="player-btn" id="btnShuffle" title="Shuffle">
                <i class="bi bi-shuffle"></i>
            </button>
            <button class="player-btn" id="btnPrev" title="Previous">
                <i class="bi bi-skip-start-fill"></i>
            </button>
            <button class="player-btn player-btn-main" id="btnPlayPause" title="Play/Pause">
                <i class="bi bi-play-fill" id="playPauseIcon"></i>
            </button>
            <button class="player-btn" id="btnNext" title="Next">
                <i class="bi bi-skip-end-fill"></i>
            </button>
            <button class="player-btn" id="btnRepeat" title="Repeat">
                <i class="bi bi-repeat"></i>
            </button>
        </div>
        
        <div class="player-progress">
            <span class="player-time" id="currentTime">0:00</span>
            <div class="progress-bar-container" id="progressBar">
                <div class="progress-bar-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <span class="player-time" id="totalTime">0:00</span>
        </div>
    </div>
    
    <!-- Volume & Extra Controls -->
    <div class="player-volume">
        <button class="volume-btn" id="btnMute" title="Mute">
            <i class="bi bi-volume-up-fill" id="volumeIcon"></i>
        </button>
        <div class="volume-slider" id="volumeSlider">
            <div class="volume-slider-fill" id="volumeFill" style="width: 100%"></div>
        </div>
        <div class="player-extra-controls">
            <button class="player-btn" id="btnLyrics" title="Lyrics">
                <i class="bi bi-file-text"></i>
            </button>
        </div>
    </div>
</div>

<!-- Hidden Audio Element -->
<audio id="audioPlayer" preload="metadata"></audio>

<!-- Lyrics Panel -->
<div class="lyrics-panel" id="lyricsPanel">
    <div class="lyrics-panel-header">
        <h5 class="lyrics-panel-title">
            <i class="bi bi-music-note-list me-2"></i>Lyrics
        </h5>
        <button class="btn-icon" id="btnCloseLyrics">
            <i class="bi bi-x-lg"></i>
        </button>
    </div>
    <div class="lyrics-panel-song">
        <img src="/images/default-song.svg" alt="Cover" class="lyrics-panel-cover" id="lyricsCover" />
        <div class="lyrics-panel-info">
            <div class="lyrics-panel-song-title" id="lyricsSongTitle">Select a song</div>
            <div class="lyrics-panel-song-artist" id="lyricsSongArtist">---</div>
        </div>
    </div>
    <div class="lyrics-panel-content" id="lyricsContent">
        <div class="empty-state">
            <i class="bi bi-file-text"></i>
            <p class="text-muted">No lyrics available</p>
        </div>
    </div>
</div>
