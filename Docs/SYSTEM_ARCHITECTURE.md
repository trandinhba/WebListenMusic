# ğŸµ MusicListen - TÃ i liá»‡u Kiáº¿n trÃºc Há»‡ thá»‘ng

## ğŸ“‹ Má»¥c lá»¥c
- [1. Tá»•ng quan Há»‡ thá»‘ng](#1-tá»•ng-quan-há»‡-thá»‘ng)
- [2. Kiáº¿n trÃºc Tá»•ng quan](#2-kiáº¿n-trÃºc-tá»•ng-quan)
- [3. Database Schema](#3-database-schema)
- [4. Luá»“ng cháº¡y cÃ¡c TÃ­nh nÄƒng](#4-luá»“ng-cháº¡y-cÃ¡c-tÃ­nh-nÄƒng)
- [5. SQL Script Táº¡o Database](#5-sql-script-táº¡o-database)

---

## 1. Tá»•ng quan Há»‡ thá»‘ng

### 1.1 MÃ´ táº£
**MusicListen** lÃ  á»©ng dá»¥ng web nghe nháº¡c trá»±c tuyáº¿n Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng ASP.NET Core 8.0 MVC vá»›i cÃ¡c tÃ­nh nÄƒng:

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ğŸµ Nghe nháº¡c | PhÃ¡t nháº¡c trá»±c tuyáº¿n, há»— trá»£ embed tá»« nhiá»u nguá»“n |
| ğŸ“ Playlist | Táº¡o vÃ  quáº£n lÃ½ danh sÃ¡ch phÃ¡t cÃ¡ nhÃ¢n |
| ğŸ” TÃ¬m kiáº¿m | TÃ¬m kiáº¿m bÃ i hÃ¡t, album, nghá»‡ sÄ© |
| ğŸ‘¤ Profile | Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n |
| ğŸ›¡ï¸ Admin | Quáº£n trá»‹ ná»™i dung vÃ  ngÆ°á»i dÃ¹ng |

### 1.2 CÃ´ng nghá»‡ sá»­ dá»¥ng
```
â”œâ”€â”€ Backend:    ASP.NET Core 8.0 MVC
â”œâ”€â”€ Database:   SQL Server + Entity Framework Core
â”œâ”€â”€ Auth:       ASP.NET Core Identity
â”œâ”€â”€ Frontend:   Bootstrap 5, JavaScript
â””â”€â”€ Storage:    Local File Storage
```

---

## 2. Kiáº¿n trÃºc Tá»•ng quan

### 2.1 Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   Browser   â”‚  â”‚   Mobile    â”‚  â”‚   Tablet    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP/HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          â”‚     PRESENTATION LAYER                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚              ASP.NET Core MVC                      â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚              â”‚
â”‚  â”‚  â”‚  Customer Area  â”‚  â”‚      Admin Area         â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Home         â”‚  â”‚  - Dashboard            â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Songs        â”‚  â”‚  - Songs CRUD           â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Albums       â”‚  â”‚  - Albums CRUD          â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Artists      â”‚  â”‚  - Artists CRUD         â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Playlists    â”‚  â”‚  - Genres CRUD          â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Profile      â”‚  â”‚  - Users Management     â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Search       â”‚  â”‚  - Reports Management   â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  - Account      â”‚  â”‚                         â”‚ â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          â”‚     BUSINESS LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚               Controllers                          â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚              â”‚
â”‚  â”‚  â”‚  Home    â”‚ â”‚  Account â”‚ â”‚  Songs   â”‚          â”‚              â”‚
â”‚  â”‚  â”‚Controllerâ”‚ â”‚Controllerâ”‚ â”‚Controllerâ”‚  ...     â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                          â”‚                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚               Services & Helpers                   â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚              â”‚
â”‚  â”‚  â”‚  FileHelper  â”‚  â”‚  SeedData    â”‚               â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          â”‚     DATA LAYER                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚         ApplicationDbContext (EF Core)             â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚              â”‚
â”‚  â”‚  â”‚Songsâ”‚ â”‚Albumâ”‚ â”‚Artistâ”‚ â”‚Genreâ”‚ â”‚Playlistâ”‚ ... â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                          â”‚                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚               SQL Server Database                  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Component Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚           MusicListen App            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                              â”‚                              â”‚
        â–¼                              â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Customer    â”‚            â”‚     Admin       â”‚            â”‚     Shared      â”‚
â”‚   Module      â”‚            â”‚     Module      â”‚            â”‚     Module      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ HomeCtrl    â”‚            â”‚ â€¢ DashboardCtrl â”‚            â”‚ â€¢ Models        â”‚
â”‚ â€¢ SongsCtrl   â”‚            â”‚ â€¢ SongsCtrl     â”‚            â”‚ â€¢ ViewModels    â”‚
â”‚ â€¢ AlbumsCtrl  â”‚            â”‚ â€¢ AlbumsCtrl    â”‚            â”‚ â€¢ DbContext     â”‚
â”‚ â€¢ ArtistsCtrl â”‚            â”‚ â€¢ ArtistsCtrl   â”‚            â”‚ â€¢ Helpers       â”‚
â”‚ â€¢ PlaylistCtrlâ”‚            â”‚ â€¢ GenresCtrl    â”‚            â”‚ â€¢ SeedData      â”‚
â”‚ â€¢ ProfileCtrl â”‚            â”‚ â€¢ UsersCtrl     â”‚            â”‚                 â”‚
â”‚ â€¢ SearchCtrl  â”‚            â”‚ â€¢ ReportsCtrl   â”‚            â”‚                 â”‚
â”‚ â€¢ AccountCtrl â”‚            â”‚                 â”‚            â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Database Schema

### 3.1 Entity Relationship Diagram (ERD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DATABASE SCHEMA                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   AspNetUsers    â”‚
                                    â”‚  (ApplicationUser)â”‚
                                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                    â”‚ PK Id (string)   â”‚
                                    â”‚ Email            â”‚
                                    â”‚ UserName         â”‚
                                    â”‚ DisplayName      â”‚
                                    â”‚ Bio              â”‚
                                    â”‚ AvatarUrl        â”‚
                                    â”‚ DateOfBirth      â”‚
                                    â”‚ Gender           â”‚
                                    â”‚ Country          â”‚
                                    â”‚ IsPremium        â”‚
                                    â”‚ PremiumExpiryDateâ”‚
                                    â”‚ IsActive         â”‚
                                    â”‚ CreatedAt        â”‚
                                    â”‚ LastLoginAt      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ 1:N                    â”‚ 1:N                    â”‚
                    â–¼                        â–¼                        â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
           â”‚   Playlists    â”‚       â”‚    Reports     â”‚               â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
           â”‚ PK Id          â”‚       â”‚ PK Id          â”‚               â”‚
           â”‚ Name           â”‚       â”‚ Title          â”‚               â”‚
           â”‚ Description    â”‚       â”‚ Content        â”‚               â”‚
           â”‚ CoverImageUrl  â”‚       â”‚ Type           â”‚               â”‚
           â”‚ IsPublic       â”‚       â”‚ Status         â”‚               â”‚
           â”‚ PlayCount      â”‚       â”‚ AdminNote      â”‚               â”‚
           â”‚ CreatedAt      â”‚       â”‚ RelatedSongId  â”‚               â”‚
           â”‚ UpdatedAt      â”‚       â”‚ RelatedAlbumId â”‚               â”‚
           â”‚ FK UserId      â”‚â”€â”€â”€â”   â”‚ CreatedAt      â”‚               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ UpdatedAt      â”‚               â”‚
                    â”‚           â”‚   â”‚ ResolvedAt     â”‚               â”‚
                    â”‚ 1:N       â”‚   â”‚ FK UserId      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼           â”‚   â”‚ ResolvedByUserIdâ”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ PlaylistSongs  â”‚   â”‚
           â”‚ (Junction)     â”‚   â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
           â”‚ PK Id          â”‚   â”‚
           â”‚ Order          â”‚   â”‚
           â”‚ AddedAt        â”‚   â”‚
           â”‚ FK PlaylistId  â”‚â”€â”€â”€â”˜
           â”‚ FK SongId      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
                                                            â”‚
                                                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Artists     â”‚       â”‚    Genres      â”‚       â”‚     Songs      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK Id          â”‚       â”‚ PK Id          â”‚       â”‚ PK Id          â”‚
â”‚ Name           â”‚       â”‚ Name (Unique)  â”‚       â”‚ Title          â”‚
â”‚ Bio            â”‚       â”‚ Description    â”‚       â”‚ AudioUrl       â”‚
â”‚ ImageUrl       â”‚       â”‚ Color          â”‚       â”‚ EmbedCode      â”‚
â”‚ Country        â”‚       â”‚ CreatedAt      â”‚       â”‚ SourceType     â”‚
â”‚ BirthDate      â”‚       â”‚                â”‚       â”‚ CoverImageUrl  â”‚
â”‚ IsVerified     â”‚       â”‚                â”‚       â”‚ Duration       â”‚
â”‚ FollowersCount â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ Lyrics         â”‚
â”‚ CreatedAt      â”‚               â”‚                â”‚ PlayCount      â”‚
â”‚ UpdatedAt      â”‚               â”‚ 1:N            â”‚ LikeCount      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                â”‚ DownloadCount  â”‚
        â”‚                        â”‚                â”‚ IsPublished    â”‚
        â”‚ 1:N                    â”‚                â”‚ IsFeatured     â”‚
        â”‚                        â”‚                â”‚ ReleaseDate    â”‚
        â”‚                        â”‚                â”‚ CreatedAt      â”‚
        â”‚                        â”‚                â”‚ UpdatedAt      â”‚
        â”‚                        â”‚                â”‚ FK ArtistId    â”‚â—„â”€â”€â”€â”
        â”‚                        â”‚                â”‚ FK AlbumId     â”‚â—„â”€â” â”‚
        â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ FK GenreId     â”‚  â”‚ â”‚
        â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
        â”‚                                                             â”‚ â”‚
        â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚          â”‚                                                    â”‚
        â”‚          â”‚ 1:N                                                â”‚
        â”‚          â–¼                                                    â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
        â”‚ â”‚    Albums      â”‚                                            â”‚
        â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                            â”‚
        â”‚ â”‚ PK Id          â”‚                                            â”‚
        â”‚ â”‚ Title          â”‚                                            â”‚
        â”‚ â”‚ Description    â”‚                                            â”‚
        â”‚ â”‚ CoverImageUrl  â”‚                                            â”‚
        â”‚ â”‚ ReleaseDate    â”‚                                            â”‚
        â”‚ â”‚ PlayCount      â”‚                                            â”‚
        â”‚ â”‚ LikeCount      â”‚                                            â”‚
        â”‚ â”‚ IsPublished    â”‚                                            â”‚
        â”‚ â”‚ CreatedAt      â”‚                                            â”‚
        â”‚ â”‚ UpdatedAt      â”‚                                            â”‚
        â””â”€â”‚ FK ArtistId    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Relationships Summary

| Quan há»‡ | Báº£ng 1 | Báº£ng 2 | Loáº¡i | MÃ´ táº£ |
|---------|--------|--------|------|-------|
| 1 | Artist | Song | 1:N | Má»—i nghá»‡ sÄ© cÃ³ nhiá»u bÃ i hÃ¡t |
| 2 | Artist | Album | 1:N | Má»—i nghá»‡ sÄ© cÃ³ nhiá»u album |
| 3 | Album | Song | 1:N | Má»—i album chá»©a nhiá»u bÃ i hÃ¡t |
| 4 | Genre | Song | 1:N | Má»—i thá»ƒ loáº¡i cÃ³ nhiá»u bÃ i hÃ¡t |
| 5 | User | Playlist | 1:N | Má»—i user cÃ³ nhiá»u playlist |
| 6 | User | Report | 1:N | Má»—i user cÃ³ thá»ƒ gá»­i nhiá»u report |
| 7 | Playlist | Song | N:N | Playlist chá»©a nhiá»u bÃ i hÃ¡t (qua PlaylistSong) |

---

## 4. Luá»“ng cháº¡y cÃ¡c TÃ­nh nÄƒng

### 4.1 Luá»“ng ÄÄƒng kÃ½ / ÄÄƒng nháº­p

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AUTHENTICATION FLOW                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              REGISTER FLOW
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â–¶â”‚ /Account/    â”‚â”€â”€â”€â–¶â”‚ Validate      â”‚â”€â”€â”€â–¶â”‚ Create User  â”‚
â”‚  Access  â”‚    â”‚ Register     â”‚    â”‚ Input Data    â”‚    â”‚ in Identity  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚                     â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”              â”‚
                                    â–¼             â–¼              â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ Invalid â”‚   â”‚  Valid  â”‚   â”‚ Assign Role  â”‚
                              â”‚ Show    â”‚   â”‚Continue â”‚   â”‚ "User"       â”‚
                              â”‚ Errors  â”‚   â”‚         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                                                                 â–¼
                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚ Auto Login   â”‚
                                                          â”‚ Redirect Homeâ”‚
                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                               LOGIN FLOW
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â–¶â”‚ /Account/    â”‚â”€â”€â”€â–¶â”‚ Find User by  â”‚â”€â”€â”€â–¶â”‚ Check User   â”‚
â”‚  Access  â”‚    â”‚ Login        â”‚    â”‚ Email         â”‚    â”‚ IsActive     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â–¼                            â–¼        â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ User Locked â”‚           â”‚ Active  â”‚ â”‚Inactive â”‚
                              â”‚ Redirect to â”‚           â”‚ Verify  â”‚ â”‚ Show    â”‚
                              â”‚ /Lockout    â”‚           â”‚ Passwordâ”‚ â”‚ Error   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                             â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â–¼                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ Password OK â”‚                       â”‚ Password BADâ”‚
                              â”‚ Update      â”‚                       â”‚ Show Error  â”‚
                              â”‚ LastLoginAt â”‚                       â”‚ Increment   â”‚
                              â”‚ Redirect    â”‚                       â”‚ Failed Countâ”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Luá»“ng TÃ¬m kiáº¿m

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SEARCH FLOW                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â–¶â”‚  Enter Query â”‚â”€â”€â”€â–¶â”‚  /Search?q=   â”‚
â”‚  Types   â”‚    â”‚  in SearchBoxâ”‚    â”‚  &type=all    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ SearchControllerâ”‚
                                    â”‚ Index Action   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                  â”‚                                  â”‚
        â–¼                                  â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Search Songs  â”‚              â”‚ Search Albums â”‚              â”‚ Search Artistsâ”‚
â”‚ WHERE Title   â”‚              â”‚ WHERE Title   â”‚              â”‚ WHERE Name    â”‚
â”‚ LIKE '%q%'    â”‚              â”‚ LIKE '%q%'    â”‚              â”‚ LIKE '%q%'    â”‚
â”‚ OR Artist.Nameâ”‚              â”‚ OR Artist.Nameâ”‚              â”‚               â”‚
â”‚ LIKE '%q%'    â”‚              â”‚ LIKE '%q%'    â”‚              â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                  â”‚                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Search View   â”‚
                                    â”‚ Display Resultsâ”‚
                                    â”‚ With Tabs     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                              â–¼                                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Songs Tab  â”‚              â”‚   Albums Tab    â”‚              â”‚  Artists Tab    â”‚
    â”‚  Song Cards â”‚              â”‚  Album Cards    â”‚              â”‚ Artist Cards    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Luá»“ng Playlist

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            PLAYLIST MANAGEMENT FLOW                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            CREATE PLAYLIST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â–¶â”‚ Click Create â”‚â”€â”€â”€â–¶â”‚ Fill Form     â”‚â”€â”€â”€â–¶â”‚ Save to DB   â”‚
â”‚ (Logged) â”‚    â”‚ Playlist     â”‚    â”‚ Name, Desc    â”‚    â”‚ Set UserId   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼
                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚ Redirect to  â”‚
                                                          â”‚ Playlist Pageâ”‚
                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          ADD SONG TO PLAYLIST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â–¶â”‚ Click Add to â”‚â”€â”€â”€â–¶â”‚ Show Playlist â”‚â”€â”€â”€â–¶â”‚ Select       â”‚
â”‚  Browse  â”‚    â”‚ Playlist Btn â”‚    â”‚ Modal Dialog  â”‚    â”‚ Playlist     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                                                 â–¼
                                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚ Create       â”‚
                                                          â”‚ PlaylistSong â”‚
                                                          â”‚ Record       â”‚
                                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                           â–¼                                       â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Success:    â”‚                         â”‚ Duplicate:  â”‚
                                    â”‚ Song Added  â”‚                         â”‚ Show Warningâ”‚
                                    â”‚ Show Toast  â”‚                         â”‚             â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 Luá»“ng Music Player

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            MUSIC PLAYER FLOW                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              PLAY SONG
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â–¶â”‚ Click Play   â”‚â”€â”€â”€â–¶â”‚ Check Source  â”‚
â”‚  Select  â”‚    â”‚ Button       â”‚    â”‚ Type          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                  â”‚                                  â”‚
        â–¼                                  â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SourceType:   â”‚              â”‚ SourceType:   â”‚              â”‚ SourceType:   â”‚
â”‚ Upload        â”‚              â”‚ ZingMp3       â”‚              â”‚ SoundCloud/   â”‚
â”‚ Load AudioUrl â”‚              â”‚ Load Embed    â”‚              â”‚ Spotify       â”‚
â”‚ to <audio>    â”‚              â”‚ Code/iframe   â”‚              â”‚ Load Embed    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                  â”‚                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Update Player â”‚
                                    â”‚ UI Controls   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Increment     â”‚
                                    â”‚ PlayCount     â”‚
                                    â”‚ (AJAX Call)   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            PLAYER CONTROLS
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚        Music Player UI         â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚  â—€â—€  â”‚  â–¶/âšâš  â”‚  â–¶â–¶  â”‚  ğŸ”€  â”‚
                    â”‚ Prev  â”‚ Play/   â”‚ Next â”‚Shuffleâ”‚
                    â”‚       â”‚ Pause   â”‚      â”‚       â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬â–¬ â”‚
                    â”‚     Progress Bar / Seek       â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚  ğŸ”Š Volume  â”‚  ğŸ” Repeat     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 Luá»“ng Admin Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ADMIN DASHBOARD FLOW                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin   â”‚â”€â”€â”€â–¶â”‚ /Admin/      â”‚â”€â”€â”€â–¶â”‚ [Authorize    â”‚â”€â”€â”€â–¶â”‚ Load Stats   â”‚
â”‚  Login   â”‚    â”‚ Dashboard    â”‚    â”‚ Roles="Admin"]â”‚    â”‚ from DB      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      Dashboard View                                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  â”‚ Total    â”‚ â”‚ Total    â”‚ â”‚ Total    â”‚ â”‚ Total    â”‚              â”‚
    â”‚  â”‚ Songs    â”‚ â”‚ Albums   â”‚ â”‚ Artists  â”‚ â”‚ Users    â”‚              â”‚
    â”‚  â”‚ [count]  â”‚ â”‚ [count]  â”‚ â”‚ [count]  â”‚ â”‚ [count]  â”‚              â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                                                                    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚              Monthly Statistics Chart                      â”‚   â”‚
    â”‚  â”‚     Song Uploads vs User Registrations (6 months)         â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                                    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚  â”‚   Recent Songs      â”‚  â”‚   Recent Users      â”‚                 â”‚
    â”‚  â”‚   [list of 5]       â”‚  â”‚   [list of 5]       â”‚                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚                                                                    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚  â”‚  Pending Reports    â”‚  â”‚    Top Songs        â”‚                 â”‚
    â”‚  â”‚  [list of 5]        â”‚  â”‚   [list of 10]      â”‚                 â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 Luá»“ng CRUD Song (Admin)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ADMIN SONG CRUD FLOW                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                             CREATE SONG
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin   â”‚â”€â”€â”€â–¶â”‚ /Admin/Songs â”‚â”€â”€â”€â–¶â”‚ Click Create  â”‚
â”‚          â”‚    â”‚ /Create      â”‚    â”‚ New Button    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Fill Song Formâ”‚
                                    â”‚ - Title       â”‚
                                    â”‚ - Artist      â”‚
                                    â”‚ - Album       â”‚
                                    â”‚ - Genre       â”‚
                                    â”‚ - Cover Image â”‚
                                    â”‚ - Audio Sourceâ”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                  â”‚                                  â”‚
        â–¼                                  â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SourceType:   â”‚              â”‚ SourceType:   â”‚              â”‚ SourceType:   â”‚
â”‚ Upload        â”‚              â”‚ ZingMp3       â”‚              â”‚ SoundCloud    â”‚
â”‚ Upload Audio  â”‚              â”‚ Enter Embed   â”‚              â”‚ Enter Embed   â”‚
â”‚ File (.mp3)   â”‚              â”‚ URL/Code      â”‚              â”‚ URL/Code      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                  â”‚                                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ FileHelper    â”‚
                                    â”‚ Save Files    â”‚
                                    â”‚ to wwwroot/   â”‚
                                    â”‚ uploads/      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Save Song     â”‚
                                    â”‚ to Database   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Redirect to   â”‚
                                    â”‚ Song List     â”‚
                                    â”‚ Show Success  â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                             UPDATE/DELETE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin   â”‚â”€â”€â”€â–¶â”‚ Song List    â”‚â”€â”€â”€â–¶â”‚ Edit/Delete   â”‚â”€â”€â”€â–¶â”‚ Confirm &    â”‚
â”‚          â”‚    â”‚ Table        â”‚    â”‚ Actions       â”‚    â”‚ Process      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 State Diagram - User Session

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          USER SESSION STATE DIAGRAM                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   START     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Anonymous  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚   Guest     â”‚               â”‚
              â”‚               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
              â”‚                      â”‚                      â”‚
              â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
              â”‚         â”‚                         â”‚         â”‚
              â”‚         â–¼                         â–¼         â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
              â”‚  â”‚   Login     â”‚          â”‚  Register   â”‚   â”‚
              â”‚  â”‚   Form      â”‚          â”‚   Form      â”‚   â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
              â”‚         â”‚                        â”‚          â”‚
              â”‚         â”‚ Success                â”‚ Success  â”‚
              â”‚         â”‚                        â”‚          â”‚
              â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
              â”‚                     â”‚                       â”‚
              â”‚                     â–¼                       â”‚
              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
              â”‚              â”‚Authenticatedâ”‚                â”‚
              â”‚              â”‚    User     â”‚                â”‚
              â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â”‚
              â”‚                     â”‚                       â”‚
              â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
              â”‚    â”‚                â”‚                â”‚      â”‚
              â”‚    â–¼                â–¼                â–¼      â”‚
              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚ â”‚Browseâ”‚     â”‚ Manage   â”‚     â”‚  Admin   â”‚  â”‚
              â”‚ â”‚Songs â”‚     â”‚ Profile  â”‚     â”‚  Panel   â”‚  â”‚
              â”‚ â”‚Albumsâ”‚     â”‚ Playlist â”‚     â”‚ (if role)â”‚  â”‚
              â”‚ â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚                     â”‚                       â”‚
              â”‚                     â”‚ Logout                â”‚
              â”‚                     â”‚                       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.8 Report Status Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          REPORT STATUS FLOW                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PENDING   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ IN_PROGRESS â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  RESOLVED   â”‚
    â”‚  (Default)  â”‚         â”‚  (Admin     â”‚         â”‚  (Issue     â”‚
    â”‚             â”‚         â”‚   Working)  â”‚         â”‚   Fixed)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                        â”‚
          â”‚                        â”‚
          â”‚                        â–¼
          â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  DISMISSED  â”‚
                            â”‚  (Invalid   â”‚
                            â”‚   Report)   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. SQL Script Táº¡o Database

### 5.1 Complete Database Schema SQL

```sql
-- ============================================
-- MUSICLISTEN DATABASE SCHEMA
-- Generated for SQL Server
-- ============================================

-- Drop existing tables if they exist
IF OBJECT_ID('PlaylistSongs', 'U') IS NOT NULL DROP TABLE PlaylistSongs;
IF OBJECT_ID('Reports', 'U') IS NOT NULL DROP TABLE Reports;
IF OBJECT_ID('Playlists', 'U') IS NOT NULL DROP TABLE Playlists;
IF OBJECT_ID('Songs', 'U') IS NOT NULL DROP TABLE Songs;
IF OBJECT_ID('Albums', 'U') IS NOT NULL DROP TABLE Albums;
IF OBJECT_ID('Artists', 'U') IS NOT NULL DROP TABLE Artists;
IF OBJECT_ID('Genres', 'U') IS NOT NULL DROP TABLE Genres;

-- ============================================
-- TABLE: Genres (Thá»ƒ loáº¡i nháº¡c)
-- ============================================
CREATE TABLE Genres (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(100) NOT NULL,
    Description NVARCHAR(500) NULL,
    Color NVARCHAR(20) DEFAULT '#1f6feb',
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    
    CONSTRAINT UQ_Genres_Name UNIQUE (Name)
);

-- Index
CREATE INDEX IX_Genres_Name ON Genres(Name);

-- ============================================
-- TABLE: Artists (Nghá»‡ sÄ©)
-- ============================================
CREATE TABLE Artists (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(200) NOT NULL,
    Bio NVARCHAR(2000) NULL,
    ImageUrl NVARCHAR(500) NULL,
    Country NVARCHAR(100) NULL,
    BirthDate DATE NULL,
    IsVerified BIT DEFAULT 0,
    FollowersCount INT DEFAULT 0,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 NULL
);

-- Index
CREATE INDEX IX_Artists_Name ON Artists(Name);

-- ============================================
-- TABLE: Albums
-- ============================================
CREATE TABLE Albums (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Title NVARCHAR(200) NOT NULL,
    Description NVARCHAR(1000) NULL,
    CoverImageUrl NVARCHAR(500) NULL,
    ReleaseDate DATE NULL,
    PlayCount INT DEFAULT 0,
    LikeCount INT DEFAULT 0,
    IsPublished BIT DEFAULT 1,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 NULL,
    
    -- Foreign Key
    ArtistId INT NULL,
    CONSTRAINT FK_Albums_Artists FOREIGN KEY (ArtistId) 
        REFERENCES Artists(Id) ON DELETE SET NULL
);

-- Index
CREATE INDEX IX_Albums_Title ON Albums(Title);
CREATE INDEX IX_Albums_IsPublished ON Albums(IsPublished);
CREATE INDEX IX_Albums_ArtistId ON Albums(ArtistId);

-- ============================================
-- TABLE: Songs (BÃ i hÃ¡t)
-- ============================================
CREATE TABLE Songs (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Title NVARCHAR(200) NOT NULL,
    AudioUrl NVARCHAR(500) NULL,
    EmbedCode NVARCHAR(500) NULL,
    SourceType INT DEFAULT 0, -- 0: Upload, 1: ZingMp3, 2: SoundCloud, 3: Spotify, 4: ExternalUrl
    CoverImageUrl NVARCHAR(500) NULL,
    Duration INT DEFAULT 0,
    Lyrics NVARCHAR(MAX) NULL,
    PlayCount INT DEFAULT 0,
    LikeCount INT DEFAULT 0,
    DownloadCount INT DEFAULT 0,
    IsPublished BIT DEFAULT 1,
    IsFeatured BIT DEFAULT 0,
    ReleaseDate DATE NULL,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 NULL,
    
    -- Foreign Keys
    ArtistId INT NULL,
    AlbumId INT NULL,
    GenreId INT NULL,
    
    CONSTRAINT FK_Songs_Artists FOREIGN KEY (ArtistId) 
        REFERENCES Artists(Id) ON DELETE SET NULL,
    CONSTRAINT FK_Songs_Albums FOREIGN KEY (AlbumId) 
        REFERENCES Albums(Id) ON DELETE SET NULL,
    CONSTRAINT FK_Songs_Genres FOREIGN KEY (GenreId) 
        REFERENCES Genres(Id) ON DELETE SET NULL
);

-- Indexes
CREATE INDEX IX_Songs_Title ON Songs(Title);
CREATE INDEX IX_Songs_IsPublished ON Songs(IsPublished);
CREATE INDEX IX_Songs_IsFeatured ON Songs(IsFeatured);
CREATE INDEX IX_Songs_PlayCount ON Songs(PlayCount);
CREATE INDEX IX_Songs_ArtistId ON Songs(ArtistId);
CREATE INDEX IX_Songs_AlbumId ON Songs(AlbumId);
CREATE INDEX IX_Songs_GenreId ON Songs(GenreId);

-- ============================================
-- TABLE: AspNetUsers (ApplicationUser - Identity)
-- Note: This is created by ASP.NET Identity
-- Extended fields shown below
-- ============================================
-- Additional columns added to AspNetUsers:
-- DisplayName NVARCHAR(100) NULL
-- Bio NVARCHAR(500) NULL
-- AvatarUrl NVARCHAR(500) NULL
-- DateOfBirth DATE NULL
-- Gender NVARCHAR(20) NULL
-- Country NVARCHAR(100) NULL
-- IsPremium BIT DEFAULT 0
-- PremiumExpiryDate DATETIME2 NULL
-- IsActive BIT DEFAULT 1
-- CreatedAt DATETIME2 DEFAULT GETDATE()
-- LastLoginAt DATETIME2 NULL

-- ============================================
-- TABLE: Playlists
-- ============================================
CREATE TABLE Playlists (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Name NVARCHAR(200) NOT NULL,
    Description NVARCHAR(1000) NULL,
    CoverImageUrl NVARCHAR(500) NULL,
    IsPublic BIT DEFAULT 0,
    PlayCount INT DEFAULT 0,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 NULL,
    
    -- Foreign Key (references AspNetUsers)
    UserId NVARCHAR(450) NOT NULL,
    CONSTRAINT FK_Playlists_Users FOREIGN KEY (UserId) 
        REFERENCES AspNetUsers(Id) ON DELETE CASCADE
);

-- Indexes
CREATE INDEX IX_Playlists_Name ON Playlists(Name);
CREATE INDEX IX_Playlists_IsPublic ON Playlists(IsPublic);
CREATE INDEX IX_Playlists_UserId ON Playlists(UserId);

-- ============================================
-- TABLE: PlaylistSongs (Junction table)
-- ============================================
CREATE TABLE PlaylistSongs (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    [Order] INT DEFAULT 0,
    AddedAt DATETIME2 DEFAULT GETDATE(),
    
    -- Foreign Keys
    PlaylistId INT NOT NULL,
    SongId INT NOT NULL,
    
    CONSTRAINT FK_PlaylistSongs_Playlists FOREIGN KEY (PlaylistId) 
        REFERENCES Playlists(Id) ON DELETE CASCADE,
    CONSTRAINT FK_PlaylistSongs_Songs FOREIGN KEY (SongId) 
        REFERENCES Songs(Id) ON DELETE CASCADE,
    
    -- Unique constraint to prevent duplicate songs in playlist
    CONSTRAINT UQ_PlaylistSongs_PlaylistId_SongId UNIQUE (PlaylistId, SongId)
);

-- Index
CREATE INDEX IX_PlaylistSongs_PlaylistId_SongId ON PlaylistSongs(PlaylistId, SongId);

-- ============================================
-- TABLE: Reports (BÃ¡o cÃ¡o)
-- ============================================
CREATE TABLE Reports (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    Title NVARCHAR(200) NOT NULL,
    Content NVARCHAR(2000) NOT NULL,
    Type INT DEFAULT 4, -- 0: Copyright, 1: InappropriateContent, 2: TechnicalIssue, 3: Spam, 4: Other
    Status INT DEFAULT 0, -- 0: Pending, 1: InProgress, 2: Resolved, 3: Dismissed
    AdminNote NVARCHAR(1000) NULL,
    RelatedSongId INT NULL,
    RelatedAlbumId INT NULL,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 NULL,
    ResolvedAt DATETIME2 NULL,
    
    -- Foreign Keys
    UserId NVARCHAR(450) NOT NULL,
    ResolvedByUserId NVARCHAR(450) NULL,
    
    CONSTRAINT FK_Reports_Users FOREIGN KEY (UserId) 
        REFERENCES AspNetUsers(Id) ON DELETE CASCADE,
    CONSTRAINT FK_Reports_ResolvedBy FOREIGN KEY (ResolvedByUserId) 
        REFERENCES AspNetUsers(Id) ON DELETE NO ACTION
);

-- Indexes
CREATE INDEX IX_Reports_Status ON Reports(Status);
CREATE INDEX IX_Reports_Type ON Reports(Type);
CREATE INDEX IX_Reports_UserId ON Reports(UserId);

-- ============================================
-- SAMPLE DATA - Genres
-- ============================================
INSERT INTO Genres (Name, Description, Color) VALUES
(N'Pop', N'Nháº¡c Pop phá»• biáº¿n', '#ff6b6b'),
(N'Rock', N'Nháº¡c Rock máº¡nh máº½', '#4ecdc4'),
(N'Ballad', N'Nháº¡c Ballad trá»¯ tÃ¬nh', '#45b7d1'),
(N'R&B', N'Nháº¡c R&B Soul', '#96ceb4'),
(N'Hip Hop', N'Nháº¡c Hip Hop/Rap', '#ffeaa7'),
(N'Electronic', N'Nháº¡c Ä‘iá»‡n tá»­ EDM', '#dfe6e9'),
(N'Jazz', N'Nháº¡c Jazz cá»• Ä‘iá»ƒn', '#fab1a0'),
(N'Classical', N'Nháº¡c cá»• Ä‘iá»ƒn', '#a29bfe'),
(N'Country', N'Nháº¡c Ä‘á»“ng quÃª', '#fd79a8'),
(N'K-Pop', N'Nháº¡c HÃ n Quá»‘c', '#00cec9');

-- ============================================
-- VIEW: Song Statistics
-- ============================================
CREATE VIEW vw_SongStatistics AS
SELECT 
    s.Id,
    s.Title,
    a.Name AS ArtistName,
    g.Name AS GenreName,
    al.Title AS AlbumTitle,
    s.PlayCount,
    s.LikeCount,
    s.DownloadCount,
    s.IsPublished,
    s.IsFeatured,
    s.CreatedAt
FROM Songs s
LEFT JOIN Artists a ON s.ArtistId = a.Id
LEFT JOIN Genres g ON s.GenreId = g.Id
LEFT JOIN Albums al ON s.AlbumId = al.Id;
GO

-- ============================================
-- VIEW: Dashboard Statistics
-- ============================================
CREATE VIEW vw_DashboardStats AS
SELECT 
    (SELECT COUNT(*) FROM Songs) AS TotalSongs,
    (SELECT COUNT(*) FROM Albums) AS TotalAlbums,
    (SELECT COUNT(*) FROM Artists) AS TotalArtists,
    (SELECT COUNT(*) FROM Genres) AS TotalGenres,
    (SELECT COUNT(*) FROM Playlists) AS TotalPlaylists,
    (SELECT COUNT(*) FROM AspNetUsers) AS TotalUsers,
    (SELECT COUNT(*) FROM Reports WHERE Status = 0) AS PendingReports,
    (SELECT SUM(PlayCount) FROM Songs) AS TotalPlays;
GO

-- ============================================
-- STORED PROCEDURE: Get Top Songs
-- ============================================
CREATE PROCEDURE sp_GetTopSongs
    @TopN INT = 10
AS
BEGIN
    SELECT TOP (@TopN)
        s.Id,
        s.Title,
        s.CoverImageUrl,
        s.PlayCount,
        s.LikeCount,
        a.Name AS ArtistName
    FROM Songs s
    LEFT JOIN Artists a ON s.ArtistId = a.Id
    WHERE s.IsPublished = 1
    ORDER BY s.PlayCount DESC;
END
GO

-- ============================================
-- STORED PROCEDURE: Search Songs
-- ============================================
CREATE PROCEDURE sp_SearchSongs
    @Query NVARCHAR(200)
AS
BEGIN
    SELECT 
        s.Id,
        s.Title,
        s.CoverImageUrl,
        s.Duration,
        s.PlayCount,
        a.Name AS ArtistName,
        g.Name AS GenreName
    FROM Songs s
    LEFT JOIN Artists a ON s.ArtistId = a.Id
    LEFT JOIN Genres g ON s.GenreId = g.Id
    WHERE s.IsPublished = 1
      AND (s.Title LIKE '%' + @Query + '%' 
           OR a.Name LIKE '%' + @Query + '%')
    ORDER BY s.PlayCount DESC;
END
GO

-- ============================================
-- STORED PROCEDURE: Get Artist With Stats
-- ============================================
CREATE PROCEDURE sp_GetArtistWithStats
    @ArtistId INT
AS
BEGIN
    SELECT 
        a.Id,
        a.Name,
        a.Bio,
        a.ImageUrl,
        a.Country,
        a.IsVerified,
        a.FollowersCount,
        (SELECT COUNT(*) FROM Songs WHERE ArtistId = a.Id) AS TotalSongs,
        (SELECT COUNT(*) FROM Albums WHERE ArtistId = a.Id) AS TotalAlbums,
        (SELECT ISNULL(SUM(PlayCount), 0) FROM Songs WHERE ArtistId = a.Id) AS TotalPlays
    FROM Artists a
    WHERE a.Id = @ArtistId;
END
GO
```

### 5.2 Quick Reference - Table Summary

| Báº£ng | MÃ´ táº£ | Sá»‘ cá»™t chÃ­nh | KhÃ³a ngoáº¡i |
|------|-------|--------------|------------|
| **Genres** | Thá»ƒ loáº¡i nháº¡c | 5 | - |
| **Artists** | Nghá»‡ sÄ©/Ca sÄ© | 10 | - |
| **Albums** | Album nháº¡c | 11 | ArtistId |
| **Songs** | BÃ i hÃ¡t | 18 | ArtistId, AlbumId, GenreId |
| **AspNetUsers** | NgÆ°á»i dÃ¹ng (Identity) | 15+ | - |
| **Playlists** | Playlist | 9 | UserId |
| **PlaylistSongs** | BÃ i hÃ¡t trong Playlist | 5 | PlaylistId, SongId |
| **Reports** | BÃ¡o cÃ¡o vi pháº¡m | 13 | UserId, ResolvedByUserId |

### 5.3 Audio Source Types

```sql
-- AudioSourceType Enum Values
-- 0 = Upload (File upload trá»±c tiáº¿p)
-- 1 = ZingMp3 (Embed tá»« Zing MP3)
-- 2 = SoundCloud (Embed tá»« SoundCloud)
-- 3 = Spotify (Embed tá»« Spotify)
-- 4 = ExternalUrl (URL bÃªn ngoÃ i)
```

### 5.4 Report Status & Types

```sql
-- ReportType Enum Values
-- 0 = Copyright (Vi pháº¡m báº£n quyá»n)
-- 1 = InappropriateContent (Ná»™i dung khÃ´ng phÃ¹ há»£p)
-- 2 = TechnicalIssue (Lá»—i ká»¹ thuáº­t)
-- 3 = Spam (Spam)
-- 4 = Other (KhÃ¡c)

-- ReportStatus Enum Values
-- 0 = Pending (Chá» xá»­ lÃ½)
-- 1 = InProgress (Äang xá»­ lÃ½)
-- 2 = Resolved (ÄÃ£ giáº£i quyáº¿t)
-- 3 = Dismissed (ÄÃ£ tá»« chá»‘i)
```

---

## ğŸ“Œ Ghi chÃº

- Táº¥t cáº£ DateTime sá»­ dá»¥ng `DATETIME2` Ä‘á»ƒ há»— trá»£ Ä‘á»™ chÃ­nh xÃ¡c cao hÆ¡n
- Foreign Key sá»­ dá»¥ng `ON DELETE SET NULL` hoáº·c `ON DELETE CASCADE` tÃ¹y theo logic nghiá»‡p vá»¥
- CÃ¡c trÆ°á»ng text cÃ³ thá»ƒ NULL sá»­ dá»¥ng kiá»ƒu `NVARCHAR` Ä‘á»ƒ há»— trá»£ Unicode tiáº¿ng Viá»‡t
- Index Ä‘Æ°á»£c táº¡o cho cÃ¡c cá»™t thÆ°á»ng xuyÃªn Ä‘Æ°á»£c query vÃ  filter

---

*TÃ i liá»‡u Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng tá»« source code cá»§a dá»± Ã¡n MusicListen*
